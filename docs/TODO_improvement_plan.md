# SaaS åˆ†æå¹³å°æ”¹è¿›è®¡åˆ’ TODO

> åŸºäº analysis_guide2.md çš„æ”¹è¿›æ–¹æ¡ˆï¼Œæœ¬æ–‡æ¡£æ•´ç†äº†éœ€è¦å®æ–½çš„å…·ä½“ä»»åŠ¡æ¸…å•ã€‚
>
> **æ›´æ–°æ—¶é—´**: 2026-01-06
> **çŠ¶æ€**: é˜¶æ®µä¸€ã€äºŒå·²å®Œæˆï¼Œå¾…è¿›è¡Œ API è”è°ƒæµ‹è¯•

---

## å®æ–½è¿›åº¦æ¦‚è§ˆ

| æ¨¡å— | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| ä¸€ã€æ ‡ç­¾ä½“ç³»é‡æ„ | âœ… å·²å®Œæˆ | æ•°æ®åº“æ¨¡å‹ã€åˆ†æé€»è¾‘ã€è¿ç§»è„šæœ¬ |
| äºŒã€è¾“å‡ºå±‚è®¾è®¡ | âœ… å·²å®Œæˆ | APIå“åº”ç»“æ„ã€ç±»å‹å®šä¹‰ |
| ä¸‰ã€å‰ç«¯ç­›é€‰å™¨ | âœ… å·²å®Œæˆ | MultiDimensionFilterç»„ä»¶å·²é›†æˆ |
| å››ã€å¤šè§†è§’æ¦œå• | âœ… å·²å®Œæˆ | æ¦œå•æ¨¡å—ã€APIç«¯ç‚¹ |
| äº”ã€æ•°æ®å±€é™æ€§è¯´æ˜ | âœ… å·²å®Œæˆ | DataDisclaimerç»„ä»¶å·²æ›´æ–° |
| å…­ã€ç¡®å®šæ€§åˆ¤æ–­ç»´åº¦ | âœ… å·²å®Œæˆ | DomainInsightsç»„ä»¶å·²é›†æˆ |
| ä¸ƒã€èµ›é“åˆ†æå®¢è§‚å‘ˆç° | ğŸ”„ å¾…é›†æˆ | éœ€è¦æ›´æ–°å‰ç«¯é¡µé¢ |
| å…«ã€å›½é™…åŒ–æ”¯æŒ | âœ… å·²å®Œæˆ | ä¸­è‹±æ–‡ç¿»è¯‘ |
| ä¹ã€æµ‹è¯•å’ŒéªŒè¯ | â³ å¾…è¿›è¡Œ | éœ€è¦è¿è¡Œæµ‹è¯• |

---

## å·²å®Œæˆçš„å·¥ä½œ

### åç«¯ (backend/)

1. **æ•°æ®åº“æ¨¡å‹** (`database/models.py`)
   - ProductSelectionAnalysis æ–°å¢ 14 ä¸ªæ ‡ç­¾å­—æ®µ
   - æ–°å¢ `to_tags_dict()` å’Œ `to_scores_dict()` æ–¹æ³•

2. **åˆ†æé€»è¾‘** (`analysis/product_selector.py`)
   - æ–°å¢ 11 ä¸ªæ ‡ç­¾è®¡ç®—æ–¹æ³•
   - æ›´æ–° `analyze_product()` å’Œ `save_analysis()` æ–¹æ³•
   - æ–°å¢å•†ä¸šæ¨¡å¼ã€æŠ¤åŸæ²³ç­‰å…³é”®è¯åˆ—è¡¨

3. **ç¡®å®šæ€§åˆ¤æ–­** (`analysis/domain_knowledge.py`) - æ–°å»º
   - 25+ æ¡ç¡®å®šæ€§åˆ¤æ–­è§„åˆ™
   - `get_insights()`, `get_summary_points()`, `get_risk_assessment()` æ–¹æ³•

4. **å¤šè§†è§’æ¦œå•** (`analysis/leaderboards.py`) - æ–°å»º
   - 8 ä¸ªæ¦œå•é…ç½®
   - LeaderboardService æœåŠ¡ç±»

5. **æ•°æ®åº“è¿ç§»** (`migrations/add_new_tags.py`) - æ–°å»º
   - è‡ªåŠ¨æ·»åŠ æ–°åˆ—çš„è¿ç§»è„šæœ¬

6. **API è·¯ç”±**
   - `product_analysis.py`: æ–°å¢æ¦œå•ã€æ ‡ç­¾ã€æ´å¯Ÿç«¯ç‚¹
   - `startups.py`: æ”¯æŒå¤šç»´åº¦ç­›é€‰
   - `analytics.py`: æ–°å¢æ•°æ®ä¿¡æ¯å’Œæ ‡ç­¾åˆ†å¸ƒç«¯ç‚¹

### å‰ç«¯ (frontend/)

1. **ç±»å‹å®šä¹‰** (`src/types/index.ts`)
   - æ–°å¢æ‰€æœ‰æ ‡ç­¾ç±»å‹ã€æ´å¯Ÿç±»å‹ã€æ¦œå•ç±»å‹ç­‰

2. **ç­›é€‰å™¨ç»„ä»¶** (`src/components/filters/MultiDimensionFilter.tsx`) - æ–°å»º
   - MultiDimensionFilter å’Œ CompactFilter ç»„ä»¶

3. **æ•°æ®è¯´æ˜ç»„ä»¶** (`src/components/ui/DataDisclaimer.tsx`) - æ–°å»º
   - æ”¯æŒ full/compact/inline ä¸‰ç§å˜ä½“

4. **æ´å¯Ÿç»„ä»¶** (`src/components/ui/DomainInsights.tsx`) - æ–°å»º
   - DomainInsights å’Œ CompactInsights ç»„ä»¶

5. **å›½é™…åŒ–** (`messages/zh-CN.json`, `messages/en.json`)
   - æ–°å¢ tagsã€leaderboardsã€insightsã€dataInfoã€filter ç¿»è¯‘

---

## ä¸‹ä¸€æ­¥æ“ä½œ

### 1. è¿è¡Œæ•°æ®åº“è¿ç§»
```bash
cd backend
python -m migrations.add_new_tags
```

### 2. é‡æ–°åˆ†æäº§å“æ•°æ®
```bash
python main.py analyze products --all
```

### 3. é›†æˆå‰ç«¯ç»„ä»¶åˆ°é¡µé¢
- äº§å“åˆ—è¡¨é¡µé›†æˆ MultiDimensionFilter
- äº§å“è¯¦æƒ…é¡µé›†æˆ DomainInsights
- ä»ªè¡¨æ¿é›†æˆæ¦œå•åˆ‡æ¢å’Œ DataDisclaimer

---

## æ–‡ä»¶ä¿®æ”¹æ¸…å• âœ… å·²å…¨éƒ¨å®Œæˆ

| æ–‡ä»¶è·¯å¾„ | ç±»å‹ | çŠ¶æ€ |
|---------|------|------|
| `backend/database/models.py` | ä¿®æ”¹ | âœ… |
| `backend/analysis/product_selector.py` | ä¿®æ”¹ | âœ… |
| `backend/analysis/domain_knowledge.py` | æ–°å»º | âœ… |
| `backend/analysis/leaderboards.py` | æ–°å»º | âœ… |
| `backend/migrations/__init__.py` | æ–°å»º | âœ… |
| `backend/migrations/add_new_tags.py` | æ–°å»º | âœ… |
| `backend/api/routes/product_analysis.py` | ä¿®æ”¹ | âœ… |
| `backend/api/routes/startups.py` | ä¿®æ”¹ | âœ… |
| `backend/api/routes/analytics.py` | ä¿®æ”¹ | âœ… |
| `frontend/src/types/index.ts` | ä¿®æ”¹ | âœ… |
| `frontend/src/components/filters/MultiDimensionFilter.tsx` | æ–°å»º | âœ… |
| `frontend/src/components/ui/DataDisclaimer.tsx` | æ–°å»º | âœ… |
| `frontend/src/components/ui/DomainInsights.tsx` | æ–°å»º | âœ… |
| `frontend/messages/zh-CN.json` | ä¿®æ”¹ | âœ… |
| `frontend/messages/en.json` | ä¿®æ”¹ | âœ… |

---

## åç»­å¾…å®Œæˆä»»åŠ¡

### é˜¶æ®µä¸€ï¼šæ•°æ®åº“ä¸æ•°æ®å‡†å¤‡ âœ… å·²å®Œæˆ

- [x] **1.1 è¿è¡Œæ•°æ®åº“è¿ç§»** âœ… 2026-01-06
  ```bash
  cd backend
  python -m migrations.add_new_tags
  ```
  - å·²æ·»åŠ  14 ä¸ªæ–°å­—æ®µåˆ° product_selection_analysis è¡¨

- [x] **1.2 é‡æ–°åˆ†æäº§å“æ•°æ®** âœ… 2026-01-06
  - å·²é‡æ–°åˆ†æ 628 ä¸ªäº§å“
  - æ‰€æœ‰äº§å“éƒ½å·²æœ‰æ–°æ ‡ç­¾æ•°æ® (revenue_tier, growth_driver, ai_dependency_level ç­‰)

### é˜¶æ®µäºŒï¼šå‰ç«¯é¡µé¢é›†æˆ âœ… å·²å®Œæˆ

- [x] **2.1 æ›´æ–°ç»„ä»¶æ ·å¼åŒ¹é…ç°æœ‰è®¾è®¡é£æ ¼** âœ… 2026-01-06
  - `MultiDimensionFilter.tsx` - ä½¿ç”¨ surface/content è®¾è®¡ç³»ç»Ÿ
  - `DomainInsights.tsx` - ä½¿ç”¨ emerald/amber è‰²å½©ç³»ç»Ÿ
  - `DataDisclaimer.tsx` - ç»Ÿä¸€åœ†è§’å’Œé˜´å½±é£æ ¼

- [x] **2.2 äº§å“åˆ—è¡¨é¡µé›†æˆç­›é€‰å™¨** âœ… 2026-01-06
  - æ–‡ä»¶: `frontend/src/app/products/page.tsx`
  - é›†æˆ `CompactFilter` ç»„ä»¶
  - æ”¯æŒ 10 ä¸ªç­›é€‰ç»´åº¦çš„å¤šé€‰
  - API å‚æ•°è‡ªåŠ¨ä¼ é€’

- [x] **2.3 äº§å“è¯¦æƒ…é¡µé›†æˆæ´å¯Ÿç»„ä»¶** âœ… 2026-01-06
  - æ–‡ä»¶: `frontend/src/app/products/[slug]/page.tsx`
  - é›†æˆ `DomainInsights` ç»„ä»¶
  - æ·»åŠ  `getProductInsights` API è°ƒç”¨
  - åœ¨é€‰å“åˆ†æå’Œç»¼åˆå»ºè®®ä¹‹é—´æ˜¾ç¤ºç¡®å®šæ€§æ´å¯Ÿ

- [ ] **2.4 ä»ªè¡¨æ¿/é¦–é¡µé›†æˆ** (å¯é€‰)
  - é›†æˆæ¦œå•åˆ‡æ¢åŠŸèƒ½
  - æ·»åŠ  `DataDisclaimer` ç»„ä»¶
  - æ˜¾ç¤ºæ ‡ç­¾åˆ†å¸ƒç»Ÿè®¡

- [ ] **2.5 åˆ›å»ºæ¦œå•å±•ç¤ºé¡µé¢** (å¯é€‰)
  - æ”¯æŒåˆ‡æ¢ä¸åŒæ¦œå•è§†è§’

### é˜¶æ®µä¸‰ï¼šAPI è”è°ƒä¸æµ‹è¯•

- [ ] **3.1 API ç«¯ç‚¹æµ‹è¯•**
  - æµ‹è¯• `GET /api/leaderboards` - æ¦œå•åˆ—è¡¨
  - æµ‹è¯• `GET /api/leaderboards/{type}` - å…·ä½“æ¦œå•
  - æµ‹è¯• `GET /api/products/{id}/insights` - äº§å“æ´å¯Ÿ
  - æµ‹è¯• `GET /api/analytics/data-info` - æ•°æ®ä¿¡æ¯
  - æµ‹è¯• `GET /api/analytics/tag-distribution` - æ ‡ç­¾åˆ†å¸ƒ
  - æµ‹è¯• `GET /api/startups` å¤šç»´åº¦ç­›é€‰å‚æ•°

- [ ] **3.2 å‰åç«¯è”è°ƒ**
  - ç¡®ä¿ç±»å‹å®šä¹‰ä¸ API å“åº”åŒ¹é…
  - å¤„ç†åŠ è½½çŠ¶æ€å’Œé”™è¯¯çŠ¶æ€
  - éªŒè¯ç­›é€‰å™¨å‚æ•°æ­£ç¡®ä¼ é€’

### é˜¶æ®µå››ï¼šä¼˜åŒ–ä¸å®Œå–„

- [ ] **4.1 æ€§èƒ½ä¼˜åŒ–**
  - æ·»åŠ  API å“åº”ç¼“å­˜
  - ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢ (æ·»åŠ ç´¢å¼•)
  - å‰ç«¯ç»„ä»¶æ‡’åŠ è½½

- [ ] **4.2 ç”¨æˆ·ä½“éªŒä¼˜åŒ–**
  - æ·»åŠ ç­›é€‰å™¨çŠ¶æ€æŒä¹…åŒ– (URL å‚æ•°)
  - æ·»åŠ åŠ è½½éª¨æ¶å±
  - ç§»åŠ¨ç«¯é€‚é…

- [ ] **4.3 å•å…ƒæµ‹è¯•**
  - åç«¯: æµ‹è¯•æ ‡ç­¾è®¡ç®—é€»è¾‘
  - åç«¯: æµ‹è¯•æ¦œå•æ’åºé€»è¾‘
  - å‰ç«¯: æµ‹è¯•ç­›é€‰å™¨ç»„ä»¶

### é˜¶æ®µäº”ï¼šæ–‡æ¡£ä¸éƒ¨ç½²

- [ ] **5.1 æ›´æ–° API æ–‡æ¡£**
  - è®°å½•æ–°å¢çš„ API ç«¯ç‚¹
  - æ·»åŠ è¯·æ±‚/å“åº”ç¤ºä¾‹

- [ ] **5.2 éƒ¨ç½²å‡†å¤‡**
  - ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“è¿ç§»è®¡åˆ’
  - å›æ»šæ–¹æ¡ˆå‡†å¤‡

---

## ä¼˜å…ˆçº§å»ºè®®

1. **é«˜ä¼˜å…ˆçº§**: é˜¶æ®µä¸€ (æ•°æ®åº“è¿ç§») â†’ é˜¶æ®µäºŒ (å‰ç«¯é›†æˆ)
2. **ä¸­ä¼˜å…ˆçº§**: é˜¶æ®µä¸‰ (API æµ‹è¯•è”è°ƒ)
3. **ä½ä¼˜å…ˆçº§**: é˜¶æ®µå››ã€äº” (ä¼˜åŒ–å’Œæ–‡æ¡£)

---

*åŸºäº: docs/analysis_guide2.md*
*æœ€åæ›´æ–°: 2026-01-06*
